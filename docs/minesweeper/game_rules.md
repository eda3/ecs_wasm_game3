# マルチプレイヤーマインスイーパー ゲームルール 📋

## 基本ルール
マルチプレイヤーマインスイーパーは、クラシックなマインスイーパーゲームのマルチプレイヤー版です。プレイヤーたちは協力して、または競い合って地雷を回避しながらボード上のセルを開いていきます。

### ゲームの目的
- **協力モード**: すべてのプレイヤーが協力して、地雷以外のすべてのセルを開くことが目標です。
- **競争モード**: より多くのセルを安全に開いたプレイヤーが勝利します。

## ゲームボード

### ボードの構成
- 初級: 9x9のボードに10個の地雷
- 中級: 16x16のボードに40個の地雷
- 上級: 30x16のボードに99個の地雷
- カスタム: プレイヤーが幅、高さ、地雷数を設定可能（最大サイズ: 50x50、最大地雷数: ボードサイズの40%まで）

### セルの状態
1. **未開封**: まだ開かれていないセル
2. **開封済み**: 数字が表示されるか空白（隣接する地雷がない場合）
3. **旗**: プレイヤーが地雷だと予想して旗を立てたセル
4. **クエスチョンマーク**: プレイヤーが不確かな場合に付けるマーク（オプション）

## ゲームプレイ

### 基本操作
- **左クリック**: セルを開く
- **右クリック**: 旗/クエスチョンマークの設置または解除
- **中クリック** (または左右同時クリック): 周囲の開封（隣接する数字のセルで、周囲に正確な数の旗がある場合）

### ゲーム進行
1. ゲーム開始時、すべてのセルは未開封状態
2. 最初のクリックは常に安全（地雷は最初にクリックしたセルには配置されない）
3. セルを開くと：
   - 地雷がある場合：
     - **協力モード**: ゲーム終了、全プレイヤー敗北
     - **競争モード**: そのプレイヤーは脱落するが、他のプレイヤーは続行可能
   - 地雷がない場合：隣接する地雷の数が表示される
   - 隣接する地雷がない場合：隣接するセルが自動的に開かれる（連鎖反応）

### 数字の意味
セルに表示される数字は、そのセルに隣接する8つのセル（上下左右と斜め）に存在する地雷の数を示します。

## マルチプレイヤー特有のルール

### 協力モード
- プレイヤーは交代でセルを開きます
- すべてのプレイヤーが同じボードを共有します
- チャット機能で戦略を相談できます
- いずれかのプレイヤーが地雷を踏むと全員敗北します
- タイマーは共有され、全員の勝利または敗北まで計測されます

### 競争モード
- 各プレイヤーは同時にプレイできます
- 同じボード上でプレイしますが、各プレイヤーの操作は色分けされます
- プレイヤーが開いたセルにはそのプレイヤーの色が表示されます
- 地雷を踏んだプレイヤーは脱落しますが、ゲームは続行します
- 最後まで生き残ったプレイヤー、または最も多くのセルを開いたプレイヤーが勝利します

### スコアリング
- **協力モード**:
  - 開いたセル: +1ポイント
  - 正確に旗を立てた地雷: +2ポイント
  - 誤った旗: -1ポイント
  - 最終スコアは全プレイヤーの合計ポイント

- **競争モード**:
  - 開いたセル: +1ポイント
  - 連鎖反応で開いたセル: +0.5ポイント
  - 正確に旗を立てた地雷: +2ポイント
  - 誤った旗: -1ポイント
  - 地雷を踏んだ場合: スコアは保持されるが、それ以上増やせない

## ゲーム終了条件

### 勝利条件
- **協力モード**: 地雷以外のすべてのセルが開かれた場合
- **競争モード**: 
  - すべての地雷以外のセルが開かれた場合、最高スコアのプレイヤーが勝利
  - または一人だけ生き残った場合、そのプレイヤーが勝利

### 敗北条件
- **協力モード**: いずれかのプレイヤーが地雷を踏んだ場合
- **競争モード**: 個人戦なので、地雷を踏んだプレイヤーのみ敗北 